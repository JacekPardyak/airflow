# -----------------------------
# that works
#' @export
setMethod(
  f = "execute",
  signature = "Query",
  definition = function(theObject)
  {
    'from sys import path
path.append("%s")
from pyadomd import Pyadomd
conn_str = "%s"
def get_state():
  with Pyadomd(conn_str) as conn:
    df = print(conn.state)
    return df' %>%
      sprintf(Sys.getenv("adomd_path"), Sys.getenv("conn_str")) %>%
      writeLines('state.py')
    reticulate::source_python('state.py')
    return(get_state())
  }
)